{% extends "index.html" %}

{% block cityname %}
{{ city | safe }}
{% endblock %}

{% block table %}
    <table border="1">
        <tr>
            <td>RESTAURANT NAME</td>
            <td>MENU ITEM</td>
            <td>ITEM DESCRIPTION</td>
            <td>PRICE</td>
            <td>ADDRESS</td>
            <td>YELP RATING</td>
        </tr>
        {% for result in result_dict %}
        <tr>
            <td>{{ result['name']}}</td>
            <td>{{ result['menu_item'] }}</td>
            <td>{{ result['desc'] }}</td>
            <td>{{ result['price'] }}</td>
            <td>{{ result['address'] }}</td>
            <td>{{ result['yelp_rating'] }}</td>
        </tr>
        {% endfor %}
    </table>
    {% endblock %}

{% block c3js %}
<div id="chart"></div>
<script type="text/javascript">
var chart = c3.generate({
    bindto: '#chart',
    data: {
      columns: [
        // {{ x | safe}},
        [{{ out1 | safe}}],
        [{{ out2 | safe}}],
        [{{ out3 | safe}}]
      ]
    }
});
</script>
{% endblock %}

{% block mapmake %}
<script type="text/javascript">
$(document).ready(function(){/* google maps -----------------------------------------------------*/
google.maps.event.addDomListener(window, 'load', initialize);

function initialize() {

  var mylat=[{{lat | safe}}]
  var mylng=[{{lng | safe}}]
  /* position Amsterdam */
  var latlng = new google.maps.LatLng(mylat[0], mylng[0]);
  var mapOptions = {
    center: latlng,
    scrollWheel: false,
    zoom: 9
  };

 for (i = 0; i < mylat.length; i++) {
  var marklatlng = new google.maps.LatLng(mylat[i], mylng[i]);
  var marker = new google.maps.Marker({
    position: marklatlng,
    url: '/',
    // animation: google.maps.Animation.DROP
  });
  }
  var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
  marker.setMap(map);

};
/* end google maps -----------------------------------------------------*/
});
</script>

{% endblock %}
